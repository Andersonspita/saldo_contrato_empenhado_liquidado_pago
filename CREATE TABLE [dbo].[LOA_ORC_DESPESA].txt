CREATE TABLE [dbo].[LOA_ORC_DESPESA](
	[ORC_DES_COD] [int] IDENTITY(1,1) NOT NULL,
	[ORC_DES_VALOR] [decimal](18, 4) NOT NULL,
	[ORC_REDUZIDO] [bigint] NOT NULL,
	[UNI_COD] [int] NOT NULL,
	[FON_CODIGO] [smallint] NOT NULL,
	[LOA_COD] [int] NOT NULL,
	[PLA_COD] [int] NOT NULL,
	[ACO_COD] [int] NOT NULL,
	[ORC_TIPO] [char](1) NOT NULL,
	[ORC_VINCULACAO] [char](2) NULL,
	[ORC_REC_COD] [int] NULL,
	[ORC_ORDINARIO_VINCULADO] [char](1) NULL,
	[ORC_INCORPORA] [char](1) NULL,
	[DOT_CODRED_CONV] [varchar](22) NULL,
	[DES_FECHADO] [char](2) NULL,
	[DES_STATUS] [char](1) NULL,
	[ORG_COD] [int] NULL,
	[TDV_COD] [int] NULL,
	[ORC_ENSINO_INFANTIL] [char](1) NULL,
	[FON_NUMERO_BKP] [varchar](10) NULL,
	[FON_NOME_BKP] [varchar](500) NULL,
	[MAR_COD] [int] NULL,
	[LRR_COD] [int] NULL,
	[IDU_COD] [int] NULL,
	[SFT_COD] [int] NULL,
	[IDO_COD] [int] NULL,
 CONSTRAINT [PK_LOA_ORC_DESPESAS] PRIMARY KEY CLUSTERED 
(
	[ORC_DES_COD] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY],
 CONSTRAINT [IX_LOA_ORC_DESPESA_3] UNIQUE NONCLUSTERED 
(
	[LOA_COD] ASC,
	[UNI_COD] ASC,
	[ACO_COD] ASC,
	[PLA_COD] ASC,
	[FON_CODIGO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] ADD  CONSTRAINT [DF_LOA_ORC_DESPESA_ORC_INCORPORA]  DEFAULT ('N') FOR [ORC_INCORPORA]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_CTP_TIPO_DESPESAS_VINCULADAS_LOA_ORC_DESPESA] FOREIGN KEY([TDV_COD])
REFERENCES [dbo].[CTP_TIPO_DESPESAS_VINCULADAS] ([TDV_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_CTP_TIPO_DESPESAS_VINCULADAS_LOA_ORC_DESPESA]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_GER_ORGAO] FOREIGN KEY([ORG_COD])
REFERENCES [dbo].[GER_ORGAO] ([ORG_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_GER_ORGAO]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH NOCHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_GER_PLANO_DE_CONTAS] FOREIGN KEY([PLA_COD])
REFERENCES [dbo].[GER_PLANO_DE_CONTAS] ([PLA_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_GER_PLANO_DE_CONTAS]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH NOCHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_GER_UNIDADE] FOREIGN KEY([UNI_COD])
REFERENCES [dbo].[GER_UNIDADE] ([UNI_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_GER_UNIDADE]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_IDO_COD] FOREIGN KEY([IDO_COD])
REFERENCES [dbo].[LOA_IDOC] ([IDO_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_IDO_COD]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_IDU_COD] FOREIGN KEY([IDU_COD])
REFERENCES [dbo].[LOA_IDUSO] ([IDU_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_IDU_COD]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH NOCHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_LOA_FONTE] FOREIGN KEY([FON_CODIGO])
REFERENCES [dbo].[LOA_FONTE] ([FON_CODIGO])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_LOA_FONTE]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_LRR_COD] FOREIGN KEY([LRR_COD])
REFERENCES [dbo].[LOA_RESULTADO_PRIMARIO] ([LRR_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_LRR_COD]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_MAR_COD] FOREIGN KEY([MAR_COD])
REFERENCES [dbo].[CTP_MARCADOR] ([MAR_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_MAR_COD]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH NOCHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_PPA_ACAO] FOREIGN KEY([ACO_COD])
REFERENCES [dbo].[PPA_ACAO] ([ACO_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_PPA_ACAO]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH CHECK ADD  CONSTRAINT [FK_LOA_ORC_DESPESA_SFT_COD] FOREIGN KEY([SFT_COD])
REFERENCES [dbo].[LOA_SUBFONTE] ([SFT_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [FK_LOA_ORC_DESPESA_SFT_COD]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH NOCHECK ADD  CONSTRAINT [LOA_ORC_DESPESA_fk] FOREIGN KEY([ORC_REC_COD])
REFERENCES [dbo].[LOA_ORC_RECEITA] ([ORC_REC_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [LOA_ORC_DESPESA_fk]
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA]  WITH NOCHECK ADD  CONSTRAINT [LOA_ORC_DESPESA_fk2] FOREIGN KEY([LOA_COD])
REFERENCES [dbo].[LOA_LOA] ([LOA_COD])
GO

ALTER TABLE [dbo].[LOA_ORC_DESPESA] CHECK CONSTRAINT [LOA_ORC_DESPESA_fk2]
GO

EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Relação de Orçamento de Despesas da Lei Orçamentária Anual' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'LOA_ORC_DESPESA'
GO

